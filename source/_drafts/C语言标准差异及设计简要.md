---
title: C语言标准差异及设计注意
date: 2023-12-04 09:19:15
tags:
categories:
- [C语言]
description: 
---




## 前言

### GNU C和 ISO C

### C99相对于C89/C90（ANSI C）的改进：

新增数据类型：包括_Bool（布尔类型）、long long int和复数类型。
变长数组：允许数组的大小在运行时确定。
复合字面量：允许在声明时初始化结构体和数组。
单行注释：引入//作为新的注释方式。
内联函数：使用inline关键字，允许在编译时将函数体插入到每个调用点。
更灵活的声明：变量可以在代码的任何位置声明。
类型通用的printf和scanf：增加了对新数据类型的支持，如long long int。
新的库函数：如stdbool.h、inttypes.h等。

### C11相对于C99的改进：

匿名结构体：允许在不命名的情况下定义结构体。
泛型选择_Generic：基于变量类型来决定执行哪个表达式。
多线程支持：增加了对多线程编程的支持。
静态断言_Static_assert：在编译时进行断言检查。
原子操作：提供了原子操作函数，以支持无锁编程。
Unicode支持：增强了对Unicode字符串字面量的支持。

### C17相对于C11的改进：

C17主要是对C11的修正和补充，没有引入新的语言特性。它的目标是提高语言的可读性和可维护性。

编码注意项：
兼容性：确保使用的编译器支持你选择的C标准。
标准选择：在编写代码时，使用-std=c99、-std=c11或-std=c17（根据所使用的标准）来指定C语言标准。
避免使用已弃用的特性：C17可能弃用了C11中的某些特性，应避免使用这些特性。
多线程安全：如果使用C11的多线程特性，确保理解并遵守线程安全的原则。
内存分配：C11标准中对动态内存分配的改进，如stdlib.h中的新增函数，应按规定使用以避免内存泄漏。
边界检查：C11引入了边界检查接口，使用这些接口可以提高程序的安全性。
避免隐式类型转换：C99开始限制了一些隐式类型转换，以减少因类型不匹配导致的错误。

## 嵌入式C语言

通常采用何种标准？

## 参考站点





