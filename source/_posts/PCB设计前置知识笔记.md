---
title: PCB设计前置知识学习笔记
date: 2024-01-01
tags:
categories:
- [硬件]
- [MISC]
description: 记录PCB设计的基础知识，包括PCB结构、PCB制作流程、制作工艺以及设计流程中所涉及的各项要素概念之解析等。
---


## PCB结构概述

基本结构为三明治结构，两层板的中间是FR4（玻璃纤维），上层跟下层都是铜层。四层板是将两个两层板压制在一起，在两个两层板之间加一层半预制片，其是绝缘的。依此类推，4层，6层，8层等都是由多个两层板叠加压制而成。

铜板上需要覆上一层油漆，其叫阻焊层，也就是板子上绿色的区域，其作用：
- 保护铜线，防止氧化
- 隔离焊盘，防止不需要的地方粘上焊锡

丝印层：在阻焊层之上，用于印刷字体，称为位号，用来标记焊接的元件
<br>

PCB电路板的本质如一幅二维图画：黑色地方是镂空的，红色的地方是不透光的，其叫GERBER文件（光绘文件），每一层电路板都会有一个GERBER文件。生产厂会通过GERBER文件生产出胶片，从而制作电路板

## PCB的制作流程

PCB的整体制作流程如下：

设计电路图->生成GERBER文件->制作印刷胶片->制作基板（完整的三明治PCB结构板）->光刻（在铜泊表面覆盖光刻胶，用紫外光曝光融化光刻胶，把不需要的铜泊暴露出来）->蚀刻（将未被光刻胶保护的铜箔部分蚀掉，形成电路导线）->去除光刻胶->层压->钻孔（根据GERBER文件，在需要连接的位置钻孔）->金属化处理（沉铜、镀锡、镀金、镀银、镀镍等）->喷涂防焊层（阻焊层）->字符标识（加丝印）->表面处理

设计者只需要将 GERBER 文件、BOM表以及位号表交到厂家即可。

### 基础工艺指标

板厚: 指电路板的整体厚度，单位通常为毫米（mm）。板厚的选择应考虑机械强度、散热需求、成本、与外部接口的配合等因素。常见的板厚范围为0.4mm至3.2mm。 典型值如：1.0mm

走线宽度: 单根导线的宽度，典型值0.1mm，线宽度直接影响电路的电流承载能力、阻抗特性以及信号传输质量。在高速信号设计中，需控制走线的特性阻抗以保证信号完整性。

钻孔内径: 0.3mm，过孔（via）内部金属化的孔径，单位通常为毫米（mm）或微米（μm）。钻孔内径决定了电流通过过孔的面积，影响电流容量和阻抗

钻孔外径: 0.4mm，过孔在电路板两面露出的孔径，主要影响焊接时焊料的填充情况以及与元器件引脚的接触面积。一般钻孔外径略大于钻孔内径，以确保良好的焊接效果。

走线间距: 0.1mm，走线间距决定了电路板的绝缘性能，影响电压等级、耐压能力以及抗串扰能力。走线间距一般等于走线宽度

铜厚: 电路板上铜箔的厚度，常用单位为盎司（oz，表示每平方英尺铜箔的重量），铜厚决定了电路的载流能力和散热性能。常见的铜厚规格有1oz（约35μm）、2oz（约70μm）等

丝印字符: 0.15mm，丝印字符包括元件标识符、测试点标记、装配指示等信息，应确保清晰可读，但又不妨碍元器件的放置和焊接。


## PCB的设计依据--原理图设计

原理图展示了电路中元器件之间的连接关系和信号流向，通过原理图，使得在PCB设计中可以确定元件的位置、引脚的连接方式、信号传输路径等，从而准确地布局元件、绘制连线。

**原理图封装：**用于表示电路中元件的图形符号，包含元件的引脚标记、形状和其它信息。通常在原理图编辑器中绘制原理图封装，其与原理图库（SCHLIB）相关联，以便在电路原理图中使用
- 在建立原理图封装的时候，可以将其与器件料号关联起来。如用 PartNum 标识料号，便于物料管理
- 当然，器件规格描述也要按照规范填写，使得导出BOM表时，板厂可以识别出器件类型，从而进行贴片
- 通过在原理图封装中设置`Footprint`属性，在建PCB封装时此字段保持一致，则使得原理图封装与PCB封装相关联
<br>

原理图的每一个网络都能在PCB中找到映射的铜线，每一个元件都能在PCBA中找到映射的器件或者焊盘（PCB封装）


### 网表

网表：网表文件包含了电路中的元器件、引脚和连接信息，用于PCB布局和布线工作。其是通过电路仿真工具或者PCB设计工具根据原理图生成的元件连接网络的文字表达形式，是连接原理图与PCB Layout的桥梁。

网络表由元件表和连接网络表组成：
- 元件表描述原理图中元件的三大属性：元件标号、元件封装形式以及元件型号
- 连接网络表包含原理图中所有电气连接网络，包含网络名称、网络中的节点信息、网络连接描述等
<br>

原理图网表用于在PCB Layout时导入对应元器件的封装与所有的电气连接网络

## BOM管理

BOM表可以直接从原理图导出，跟PCB布局前后不直接相关

原理图设计时，确定所需的元器件和材料

PCB设计时，确定元器件的位置和引脚连接，同时还记录了元器件的规格、封装和数量

生产根据BOM配置进行贴片

有利于维护和售后


## PCB Layout概述

在PCB Layout前可能需要结构图文件：用于指示PCB板外形、安装孔、元件布局设计等，保证与结构不会互相干涉

拥有了结构以及原理图网表，即可开展PCB Layout设计

PCB Layout设计，主要涉及以下步骤：
- 导入网表：将原理图网表导入Layout软件中，软件会自动创建对应元器件的封装实例，并根据网表连接关系形成初步的电气网络。
- 布局规划
- 布线
- 验证与优化
- 输出文件：完成设计验证并通过后，生成生产所需的Gerber文件、钻孔文件、物料清单（BOM）、装配图等

### PCB封装创建

PCB封装：详细定义电子元器件和PCB之间的物理接口关系，包含以下几个核心组成部分
- 焊盘（Pad）
- 组件轮廓（Compponent Outline）：描绘元器件主体的外形，作为布局时的视觉参考
- 参考指示符（Reference Indicator）：如R1、C1、U1等参考指示符标号，当然，在设计软件中，元件的参考指示符（如R1、C2、U3等）通常是可以设置为自动递增的
- 引脚指示符：标识电子元器件各个引脚的编号、名称或功能标签
- 机械信息：
- 3D模型（封装）：通过3D模型可以验证元件之间的空间布局，避免干涉，对整体结构设计、装配验证、散热分析等有重要意义


封装库：封装库是存储各类元器件封装信息的数据库，包括元器件的引脚布局、尺寸、形状等。
- 作用：在PCB布局阶段，设计师人员封装库中选择合适的封装，将元器件放置在电路板上


常见封装类型如下：
- SOP（Small Outline Package）：小外形封装，常见于集成电路，引脚沿两侧或四侧分布。
- QFP（Quad Flat Package）：四方扁平封装，四面均有引脚，适合高引脚数IC。
- BGA（Ball Grid Array）：球栅阵列封装，底部布满焊球，提供高密度、高性能的封装解决方案。
- DIP、QFN等等

封装标准 为确保封装设计的规范性和一致性，业界制定了多项封装标准，其中包括：
- IPC 7351：由国际电子工业联接协会（IPC）制定的元器件封装设计推荐标准，提供详细的尺寸、焊盘尺寸、引脚间距等指导。
- ANSI Y32.2-1975：美国国家标准学会（ANSI）关于电子设备封装的旧版标准，已逐渐被更新的标准取代。
- ISO 10303-21：国际标准化组织（ISO）制定的产品数据交换标准，适用于电子设备封装信息的数字化表示与交换。



### 元件放置（布局设计）

PCB布局是整个设计流程中的首要步骤。在综合考虑信号质量、EMC、热设计、DFM、DFT、结构、安规等方面要求的基础上，将器件合理地放置到板面上。

布局应满足以下要求：
- **总的连线尽可能短**：总体上，应力求减少所有导线的总长度，以减少信号传输延迟、降低功耗、提升电路速度，并减轻潜在的EMI（电磁干扰）问题。尤其强调关键信号线最短
- **高电压、大电流信号与低电压、小电流信号分离**：确保强信号（高电压、大电流）与弱信号（低电压、小电流）之间实现有效隔离，防止因压降、串扰等因素造成弱信号的失真或干扰。
- **模拟信号与数字信号分开**：模拟电路对噪声极为敏感，应与数字电路保持足够的距离，以减小由数字信号切换产生的瞬态电流和高频噪声对模拟电路的干扰。
- **高频信号与低频信号分开**：高频信号具有更强的辐射能力及更易受外部干扰的特性，应将其与其他低频信号妥善隔离，以提升EMC（电磁兼容性）性能，减少相互间的串扰。
- **高频元器件的间距要充分**：高频元器件（如射频模块、高速接口芯片等）不仅需与其他类型信号隔离，彼此间也应保持适当的间距，以减小互耦效应和串扰。
- **满足仿真和时序分析要求**：在布局阶段，确保设计能满足后续的信号完整性仿真、电源完整性仿真及时序分析等验证要求

### 布线设计

PCB布线是整个PCB设计中工作量最大的环节，直接影响着PCB板的性能和可靠性。

布线处理的基本要求包括：
- **合适的过孔**：根据元器件的尺寸和电路板的厚度选择合适的过孔类型和大小，以确保信号和电源的顺利传输。同时，需要考虑过孔的寄生效应，如可能的电感和电阻对信号完整性的影响。
- **线宽**：根据信号的电流大小、频率以及电路板的敷铜情况选择合适的线宽，以保证信号的稳定传输和**避免因过热**导致的问题。
- **安全间距**：根据信号的传输距离、信号的传输速度和电路板的敷铜情况选择合适的安全间距，以避免信号的失真和失稳。
- **走线到板边距离**：≥2mm，保证电路板的机械强度和减少信号在板边处的干扰。
- 高速信号线长尽量保持一致，避免影响信号的传输

电源层和地层之间的EMC环境较差，应避免布置对干扰敏感的信号线。

在PCB设计中，走线（Routing）和铺铜（Pouring Copper / Covering Copper）是两种不同的铜层分布形式，它们各自具有特定的功能和应用场景。

一般来说：GND需要铺设较大范围的铜皮，如果VCC在一个区域内分布零散，则也可在此铺设铜皮。

如果为四层板的布置，则在布置器件较多的表面层相近的一层用作地层，缩短电流回路。


## PCB设计相关基础术语或词语解析

### PCB设计中的元素或元件的英文简写

晶振（XTAL）
跳线或插孔座（JP），如烧录孔
连接器（CN或CONN）
焊盘（Pad）
集成电路（IC 或 U?）
二极管（D）
晶体管（Q）
电容（C）
电阻（R）
电感（L）
端子座（CON?）

NC：此处不贴元件

### PCB Layout基础词语

焊盘：PCB板上用于焊接元器件的金属圆盘状区域。

板框：是PCB设计文件的重要组成部分，指的是PCB板的外形和尺寸范围。定义了PCB板的物理边界，包括长度、宽度和形状等信息，设计者需要在板框内布局电路元件和走线，确保设计符合PCB板的实际尺寸和要求。



### EMC（电磁兼容性）

EMC（Electromagnetic Compatibility），指设备能够在电磁环境中正常工作且不对该环境中任何其他设备造成不可接受的电磁干扰的能力

其包含电磁干扰（EMI, Electromagnetic Interference）和电磁抗扰度（EMS，Electromagnetic Suitability）两个概念。

### ESD

增加静电抑制器件，防静电

## PCB整体设计流程总结

- 需求分析：与客户或项目组讨论需求，明确PCB设计的功能、性能、尺寸、接口等要求。

- 建库：SCHLIB、PCBLIB

- 原理图设计：根据需求，使用设计软件（如Altium Designer、Cadence等）绘制PCB的原理图，包括连接的元器件、信号传输路径等。

- 元器件选型：根据原理图，选择合适的元器件，考虑性能、尺寸、成本等因素。

- PCB布局设计：将元器件在PCB板上进行布局设计，考虑信号传输路径、电源分布、散热等因素。

- 连线布线：根据原理图和布局设计，在PCB板上进行连线布线，保证信号传输的稳定性和可靠性。

- PCB制作：生成PCB板的制作文件（Gerber文件），并提交给PCB厂家进行生产。

- PCB组装：将元器件焊接到PCB板上，进行电气测试和功能验证。

- 调试和优化：对PCB进行调试，验证功能是否符合要求，优化设计以满足性能需求。


## 参考站点

- [学习PCB设计前的知识扫盲，新手向，越新手越好！](https://www.bilibili.com/video/BV1GU4y1N7Z6/?spm_id_from=333.999.0.0&vd_source=82e85569f7427ac31cbd67ec7206aa00)
- [浅谈各种常见的芯片封装技术DIP/SOP/QFP/PGA/BGA](https://blog.csdn.net/LEON1741/article/details/104783084)

