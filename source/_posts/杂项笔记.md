---
title: 杂项笔记
date: 2023-11-29
tags:
categories:
- [MISC]
description: 记录日常辅助开发中所涉及到的杂项操作，包括运维工具、开发辅助工具、日常工具等的相关操作，为检索使用
---


## J-Link/J-Flash

### J-Flash批处理脚本配置烧录

当然，前提是要添加J-Link的可执行程序路径到`$PATH`环境变量中
- program.bat脚本代码如下，参考修改即可：
```
echo start...

JLink -device N32L406CB -if swd -speed 4000 -CommanderScript "C:\Users\Breo\Desktop\Wireless moxibustion\Software\program.jlink"
```
- program.jlink文件代码如下，其中目标设备、文件路径、烧录地址等根据需要配置：
```
connect
device N32L406CB
si SWD
speed 4000
h         // halt-停止
r           // 复位，可以考虑去掉
erase           // 或 erase 0x8002800，去掉也行，但可能会出现error fail address 0x00000000错误提示

loadfile app.bin 0x8002800      // loadfile app.hex 或 loadfile app.bin 0x8000000
verifybin app.bin 0x8002800
r
go        // r go表示reset and run
q     // 退出J-Link命令行工具
```

### J-Link/J-Flash 读取单片机内部Flash内容

打开 J-Flash.exe 程序，进行工程配置并连接成功后，选择`Target` -> `Manual Programming` -> `Read back` -> `Entire chip` 读取整片内容，也可以选择读取指定地址区的内容

选择`File` -> `Save file as` 保存读取的内容，选择 J-Flash 支持的文件类型如 Hex、Bin 等等

前提是，芯片需要解除读保护



## hexo主题相关

- `hexo init`，在初始化本地博客时使用，创建一个空白的文件夹并进入，然后执行 hexo init，即完成初始化
- `hexo new "xxx"`，新建一篇博客，相当于手动直接在`//source/_posts/`目录下新建一个`xxx.md`文件
- `hexo clean`，用于清理生成的静态网站文件，通常在更新时或者是重新生成网站前会使用
- `hexo g`，生成静态网站文件
- `hexo d`，用于部署静态网站到远程服务器，使得网站可以通过互联网访问
- `hexo server`，用于启动本地服务器以预览生成的静态网站
- 若要隐藏某篇博客，屏蔽该文章的渲染，在该文章名称前加个`_`下划线即可

**草稿编辑：**
- `hexo new draft "xxx"`在`source/_drafts`目录下创建一个新的草稿
- `hexo server --draft`预览草稿
- `hexo publish <title>`发布为博客文章
当然，也可以直接手动操作，直接将草稿拖移到`source/_posts`目录下即可转为博客


### WSL 之 Ubuntu22 搭建Hexo NexT博客

安装Node.JS和npm，通过`nodejs --version`和`npm --version`查看是否安装成功，另外版本要尽量高，以下为安装Node.JS命令，作参考用，当然实际过程中可能会遇到各种各样的安装报错问题，自行解决
- `curl -sL https://deb.nodesource.com/setup_20.x | sudo -E bash -`
- `sudo apt-get install -y nodejs`
- `sudo apt-get install npm`
<br>

安装Hexo，而后创建一个新的目录/新的博客，拉取next主题
- `sudo npm install hexo-cli -g`
- `mkdir blog`
- `cd blog`
- `hexo init`
- `npm install hexo-deployer-git --save`
- `git clone https://github.com/theme-next/hexo-theme-next themes/next`
<br>

重新关联已有的远端仓库
- 前提，已经添加远端与本地的ssh连接
- git初始化本地工程，并关联远端仓库即可，具体操作此处不重复阐述
- 全新的初始化流程为：远端创建一个以用户名为名称的仓库，然后将本地初始化为一个git工程，建立与远端仓库的关联关系

<br>

配置博客站点及功能
- 在`//_config.yml`添加部署的仓库站点，以及配置相应的界面功能
- 在`//themes/next/_config.yml`配置相应的主题功能

<br>


配置本地搜索、标签、目录、字数统计、分页、浏览进度百分比、主题样式、代码块复制等功能，用户自行搜索添加即可

如：在配置文件中使能搜索功能、字数统计功能前，需要先安装以下插件
- `npm install hexo-word-counter`
- `npm install hexo-generator-search --save`
- 参考[Hexo-NexT官方站点](https://hexo-next.readthedocs.io/zh-cn/latest/next/advanced/%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1/)

> 其中添加搜索功能时，无论怎么样操作，Hexo NexT的搜索都无内容无效，最后发现是search.xml文件格式有误，于是本人另辟蹊径，将`//_config.yml`的search.xml改为search.json，重新生成即可。可能是该工程配置有问题，建议另起目录，重新初始化生成并配置可能更为省事


<br>

### 搭建 Hexo + Github 博客小结

- 本地安装 Nodejs，npm，hexo 等必要软件
- 使用 hexo 本地初始化配置
- 在 Github 上创建与用户名同名加指定后缀的仓库，即`username.github.io`，比如用户名是`Chen`，则创建仓库名为`Chen.github.io`
- 在本地工程的`//config.yml`文件中进行配置，将要部署的站点设置为`username.github.io`此仓库对应的站点地址即可



### Hexo + NexT 功能配置

**添加搜索功能：**
- 在`//_config.yml`新增片段或片段修改为如下：
```
search:
  path: search.xml    # 或者search.json
  field: post
  content: true
  format: html
  limit: 10000
```
- 在`//themes/next/_config.yml`新增片段或片段修改为如下：
```
local_search:
  enable: true
  # If auto, trigger search by changing input.
  # If manual, trigger search by pressing enter key or search button.
  trigger: auto
  # Show top n results per article, show all results by setting to -1
  top_n_per_article: 1
  # Unescape html strings to the readable one.
  unescape: false
  # Preload the search data when the page loads.
  preload: false
```

## VSCode相关

**绘制流程图：**
- 安装`Draw.io Integration`扩展插件
- 新建文件`xxx.drawio`，即可开始编辑
<br>

**代码绘图：**
- 安装`PlantUML、PlantUML Previewer`扩展
- 新建文件`xxx.plantuml`，即可开始编码，编码格式参考官方文档
- 以下为示例代码，鼠标光标位于代码其中任意位置，而后点击预览即可(Alt + D)
```
@startuml filename
Main_task -> Subtask: Delivery control event
Subtask -> Main_task: Reporting internal events
@enduml
```

**添加Git相关插件**
安装 GitLens 扩展


## DAP下载调试方式




